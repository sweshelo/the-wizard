# TASK-2.3: 攻撃/ブロック判断

## ステータス: COMPLETED

## 開始日時: 2026-01-29

## 担当エージェント: Claude

## 概要

BP比較、相手手札、トリガーゾーンを考慮した攻撃/ブロック判断を実装

## 成果物

- `/src/ai/tactics/AttackEvaluator.ts` - 攻撃評価クラス
- `/src/ai/tactics/BlockEvaluator.ts` - ブロック評価クラス
- `/src/ai/tactics/index.ts` - エクスポート

## 実装済みテストケース

### AttackEvaluator (13テスト)

- [x] 相手フィールド空でフリーアタック推奨
- [x] 行動済みユニットは攻撃不可
- [x] BP優位で攻撃優先度上昇
- [x] 相手手札多い時は警戒度上昇
- [x] トリガーゾーン警戒
- [x] 相手ライフ低い時は攻撃優先
- [x] 貫通能力で優先度上昇
- [x] 複数アタッカーのランキング
- [x] 行動済みユニットのフィルタリング
- [x] 貫通持ちの優先
- [x] リーサル検出（空フィールド）
- [x] リーサル不可（ブロッカーあり）

### BlockEvaluator (12テスト)

- [x] BP有利でブロック推奨
- [x] 行動済みブロッカー除外
- [x] 同BP時のトレード評価
- [x] 複数候補から最適ブロッカー選択
- [x] ライフ安全時はスルー推奨
- [x] ライフ危機時は負けてもブロック
- [x] 不屈持ち優先ブロック
- [x] 高コストユニット回避
- [x] ブロッカーランキング
- [x] 行動済みブロッカーフィルタ
- [x] 勝ちブロック価値計算
- [x] 負けブロック価値計算
- [x] トレード価値計算

## テスト結果

- 25テストパス
- 37 expect() calls

## 課題・ブロッカー

なし

## 完了日時: 2026-01-29
